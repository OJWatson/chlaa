[{"path":"https://ojwatson.github.io/chlaa/SCHEMA.html","id":null,"dir":"","previous_headings":"","what":"Repository schema (chlaa)","title":"Repository schema (chlaa)","text":"standalone R package implementing stochastic cholera outbreak model odin2 (dust2 backend), utilities fitting, counterfactual simulation, forecasting, health economic evaluation. End users need odin2 installed: repository commits generated C++ bindings simulation fitting work clean checkout. odin2 required developers want edit inst/odin/*.R regenerate bundled outputs (see docs/packaging.md).","code":""},{"path":"https://ojwatson.github.io/chlaa/SCHEMA.html","id":"directory-layout","dir":"","previous_headings":"","what":"Directory layout","title":"Repository schema (chlaa)","text":"DESCRIPTION, NAMESPACE, LICENSE: standard R package metadata Makefile: developer helper targets (make regen, make check-sync, make check--binaries) R/: package code (functions) cholera_model.R: simulation model cholera_model_fit.R: adds observation model filtering / likelihood man/: prebuilt documentation (keeps R CMD check quiet without roxygen) tests/: unit tests (including smoke tests simulation fit paths) tools/: developer scripts regeneration drift checks docs/: project documentation (model mapping, packaging notes) vignettes/: end--end analyst workflows (fit, scenarios, economics/optimisation) inst/extdata/econ/: externalised economics defaults (unit costs DALY parameters) _pkgdown.yml: pkgdown site configuration .github/workflows/pkgdown.yaml: docs build/deploy workflow","code":""},{"path":[]},{"path":"https://ojwatson.github.io/chlaa/SCHEMA.html","id":"instodin","dir":"","previous_headings":"Key files","what":"inst/odin/","title":"Repository schema (chlaa)","text":"Discrete-time stochastic compartmental model Daily incidence variables (inc_*) reset zero_every = 1 Cumulative outputs (cum_*) scenario evaluation economics cholera_model.R Adds data likelihood cases (Negative Binomial) using reporting_rate obs_size","code":""},{"path":"https://ojwatson.github.io/chlaa/SCHEMA.html","id":"r","dir":"","previous_headings":"Key files","what":"R/","title":"Repository schema (chlaa)","text":"chlaa_parameter_info(): default values + metadata chlaa_parameters(): build parameter list overrides chlaa_parameters_validate(): basic sanity checks chlaa_simulate(): run model via dust2 chlaa_generator(): internal generator getter (packaged generator runtime odin2 compile) chlaa_fit_pmcmc(): particle MCMC fitting (monty + dust2) chlaa_fit S3 helpers (print, summary, chlaa_posterior_summary()) draw extraction + parameter updating (chlaa_update_from_fit()) posterior predictive simulations (chlaa_simulate_posterior()) chlaa_trigger_time_from_sim() chlaa_make_aa_scenarios(): AA scenario templates chlaa_scenario(), chlaa_run_scenarios() chlaa_compare_scenarios() (optionally economics) chlaa_counterfactual_grid(): tidy grid scenario knobs chlaa_run_counterfactual_grid() chlaa_forecast_from_fit() plotting helpers chlaa_plot_ppc() posterior predictive checks cases chlaa_forecast_scenarios_from_fit(): paired scenario forecasts + differences vs baseline chlaa_plot_scenario_forecasts(): overlay facet, absolute differences chlaa_health_econ(): costs + DALYs using model accumulators chlaa_optimise_budget(): constrained allocation optimiser (grid/continuous modes) general plotting helpers CE plane plot","code":""},{"path":"https://ojwatson.github.io/chlaa/SCHEMA.html","id":"running-the-full-stack","dir":"","previous_headings":"","what":"Running the full stack","title":"Repository schema (chlaa)","text":"Typical workflow: 1. pars <- chlaa_parameters() 2. sim <- chlaa_simulate(pars, ...) 3. fit <- chlaa_fit_pmcmc(data, pars, ...) 4. pars_cal <- chlaa_update_from_fit(fit, pars) 5. sc <- chlaa_make_aa_scenarios(pars_cal, trigger_time = ...) 6. runs <- chlaa_run_scenarios(pars_cal, sc, time = ...) 7. cmp <- chlaa_compare_scenarios(runs, baseline = \"baseline\", include_econ = TRUE) 8. Forecasts: - chlaa_forecast_from_fit(fit, ...) - chlaa_forecast_scenarios_from_fit(fit, scenarios = sc, ...)","code":""},{"path":"https://ojwatson.github.io/chlaa/SCHEMA.html","id":"guardrails","dir":"","previous_headings":"","what":"Guardrails","title":"Repository schema (chlaa)","text":"make check-sync: validates committed generated files inst/odin/generation_manifest.csv. make check--binaries: fails compiled artefacts tracked src/ inst/. CI runs checks R CMD check.","code":""},{"path":"https://ojwatson.github.io/chlaa/articles/fitting_workflow.html","id":"why-this-workflow","dir":"Articles","previous_headings":"","what":"Why This Workflow?","title":"Fitting Workflow","text":"vignette demonstrates full fit--forecast cycle : synthetic daily outbreak curve resembles qualitative pattern often seen reported cholera surveillance (large first wave, suppression period, rebound). lightweight fully runnable pMCMC fit. Diagnostics show parameter behaviour likelihood behaviour. forecast plot overlays historical observations model uncertainty bands. goal replicate one outbreak exactly, show transparent, reproducible workflow users can adapt real surveillance data.","code":"library(chlaa) library(ggplot2) set.seed(42)"},{"path":"https://ojwatson.github.io/chlaa/articles/fitting_workflow.html","id":"generate-example-outbreak-data","dir":"Articles","previous_headings":"","what":"1) Generate Example Outbreak Data","title":"Fitting Workflow","text":"generate synthetic data strong first wave smaller later rebound. defaults tuned outbreak profile similar shape published response analyses.","code":"example_data <- chlaa_generate_example_outbreak_data(   time = 1:330,   start_date = as.Date(\"2021-08-01\"),   seed = 42 )  ggplot(example_data, aes(x = date, y = cases)) +   geom_line(linewidth = 0.5, colour = \"black\") +   labs(     x = \"Date\",     y = \"Reported cholera cases/day\",     title = \"Synthetic historical outbreak series\"   ) +   theme_minimal()"},{"path":"https://ojwatson.github.io/chlaa/articles/fitting_workflow.html","id":"prepare-data-and-starting-parameters","dir":"Articles","previous_headings":"","what":"2) Prepare Data And Starting Parameters","title":"Fitting Workflow","text":"keep input format strict (time, cases) use near-truth start stable, fast demo fit.","code":"data_fit <- chlaa_prepare_data(example_data, time_col = \"time\", cases_col = \"cases\")  pars_start <- attr(example_data, \"truth_parameters\") pars_start$contact_rate <- pars_start$contact_rate * 0.9 pars_start$trans_prob <- pars_start$trans_prob * 1.1 pars_start$reporting_rate <- pars_start$reporting_rate * 0.9"},{"path":"https://ojwatson.github.io/chlaa/articles/fitting_workflow.html","id":"fit-with-pmcmc","dir":"Articles","previous_headings":"","what":"3) Fit With pMCMC","title":"Fitting Workflow","text":"vignette runtime CI use compact configuration. real analyses, increase particles chain length.","code":"fit <- chlaa_fit_pmcmc(   data = data_fit,   pars = pars_start,   n_particles = 60,   n_steps = 220,   seed = 42,   proposal_var = 1e-5 ) #> ⡀⠀ Sampling  ■                                |   0% ETA: 10s #> ⠄⠀ Sampling  ■■■■■■■■■■■                      |  33% ETA:  2s #> ✔ Sampled 220 steps across 1 chain in 3.5s #>  fit #> <chlaa_fit> #> Posterior draws: 220 iterations; 9 parameters #> Data: 330 observations; time range [1, 330]"},{"path":"https://ojwatson.github.io/chlaa/articles/fitting_workflow.html","id":"summaries-and-diagnostics","dir":"Articles","previous_headings":"","what":"4) Summaries And Diagnostics","title":"Fitting Workflow","text":"inspect acceptance, traces, pairwise posterior geometry, likelihood trace.","code":"fit_report <- chlaa_fit_report(fit, burnin = 0.25, thin = 2) fit_report$acceptance_rate #> [1] 0.07317073 summary_tbl <- chlaa_posterior_summary(fit, burnin = 0.25, thin = 2) summary_tbl #> # A tibble: 9 × 6 #>   parameter              mean       sd  `q2p5%`   `q50%` `q97p5%` #>   <chr>                 <dbl>    <dbl>    <dbl>    <dbl>    <dbl> #> 1 trans_prob          0.0227  0.000818  0.0208   0.0228   0.0239  #> 2 contact_rate        7.19    0.00632   7.19     7.19     7.21    #> 3 incubation_time     4.85    0.00253   4.85     4.86     4.86    #> 4 duration_sym       14.5     0.00329  14.5     14.5     14.5     #> 5 reporting_rate      0.0289  0.00109   0.0272   0.0287   0.0308  #> 6 obs_size           20.0     0.00294  20.0     20.0     20.0     #> 7 seek_severe         0.683   0.000911  0.680    0.683    0.684   #> 8 fatality_untreated  0.496   0.00418   0.492    0.495    0.503   #> 9 fatality_treated    0.00602 0.00193   0.00248  0.00578  0.00905 chlaa_plot_trace(   fit,   parameters = c(\"trans_prob\", \"contact_rate\", \"reporting_rate\", \"obs_size\"),   burnin = 0.25,   thin = 2 ) chlaa_plot_likelihood_trace(fit, burnin = 0.25, thin = 2) chlaa_plot_parameter_pairs(   fit,   parameters = c(\"trans_prob\", \"contact_rate\", \"reporting_rate\", \"obs_size\"),   burnin = 0.25,   thin = 2,   max_points = 1000 ) #> Warning: `stat_contour()`: Zero contours were generated #> Warning in min(x): no non-missing arguments to min; returning Inf #> Warning in max(x): no non-missing arguments to max; returning -Inf #> Warning: `stat_contour()`: Zero contours were generated #> Warning in min(x): no non-missing arguments to min; returning Inf #> Warning in max(x): no non-missing arguments to max; returning -Inf #> Warning: `stat_contour()`: Zero contours were generated #> Warning in min(x): no non-missing arguments to min; returning Inf #> Warning in max(x): no non-missing arguments to max; returning -Inf chlaa_plot_parameter_vs_likelihood(   fit,   parameters = c(\"trans_prob\", \"contact_rate\", \"reporting_rate\"),   burnin = 0.25,   thin = 2,   max_points = 1000 ) #> `geom_smooth()` using method = 'loess' and formula = 'y ~ x' #> Warning in simpleLoess(y, x, w, span, degree = degree, parametric = parametric, #> : pseudoinverse used at 7.1886 #> Warning in simpleLoess(y, x, w, span, degree = degree, parametric = parametric, #> : neighborhood radius 0.0061006 #> Warning in simpleLoess(y, x, w, span, degree = degree, parametric = parametric, #> : reciprocal condition number 1.0407e-16 #> Warning in simpleLoess(y, x, w, span, degree = degree, parametric = parametric, #> : There are other near singularities as well. 3.6129e-05 #> Warning in simpleLoess(y, x, w, span, degree = degree, parametric = parametric, #> : pseudoinverse used at 0.027201 #> Warning in simpleLoess(y, x, w, span, degree = degree, parametric = parametric, #> : neighborhood radius 0.0014762 #> Warning in simpleLoess(y, x, w, span, degree = degree, parametric = parametric, #> : reciprocal condition number 6.1111e-17 #> Warning in simpleLoess(y, x, w, span, degree = degree, parametric = parametric, #> : There are other near singularities as well. 2.1249e-06"},{"path":"https://ojwatson.github.io/chlaa/articles/fitting_workflow.html","id":"posterior-predictive-fit-and-projection","dir":"Articles","previous_headings":"","what":"5) Posterior Predictive Fit And Projection","title":"Fitting Workflow","text":"forecast beyond observed horizon plot central tendency plus 50%, 75%, 95% uncertainty intervals.","code":"forecast_time <- 1:400 fc <- chlaa_forecast_from_fit(   fit = fit,   pars = pars_start,   time = forecast_time,   vars = \"inc_symptoms\",   include_cases = TRUE,   quantiles = c(0.025, 0.125, 0.25, 0.5, 0.75, 0.875, 0.975),   n_draws = 80,   burnin = 0.25,   thin = 2,   seed = 42,   dt = 1,   n_particles = 1 )  f_cases <- fc[fc$variable == \"cases\", ] f_cases$date <- as.Date(\"2021-08-01\") + (f_cases$time - 1) obs <- example_data obs$date <- as.Date(obs$date)  ggplot() +   geom_line(data = obs, aes(x = date, y = cases, colour = \"Historical data\"), linewidth = 0.5) +   geom_line(data = f_cases, aes(x = date, y = mean, colour = \"Mean projection\"), linewidth = 0.7) +   geom_line(data = f_cases, aes(x = date, y = q0p25, colour = \"50% UI\"), linewidth = 0.5) +   geom_line(data = f_cases, aes(x = date, y = q0p75, colour = \"50% UI\"), linewidth = 0.5) +   geom_line(data = f_cases, aes(x = date, y = q0p125, colour = \"75% UI\"), linewidth = 0.4, linetype = 2) +   geom_line(data = f_cases, aes(x = date, y = q0p875, colour = \"75% UI\"), linewidth = 0.4, linetype = 2) +   geom_line(data = f_cases, aes(x = date, y = q0p025, colour = \"95% UI\"), linewidth = 0.4) +   geom_line(data = f_cases, aes(x = date, y = q0p975, colour = \"95% UI\"), linewidth = 0.4) +   scale_colour_manual(values = c(     \"Historical data\" = \"black\",     \"Mean projection\" = \"#2c7f62\",     \"50% UI\" = \"#b88a66\",     \"75% UI\" = \"#8c8c8c\",     \"95% UI\" = \"#9a3b32\"   )) +   labs(     x = \"Date\",     y = \"No. of cholera cases/day\",     colour = NULL,     title = \"Historical data and fitted model projection\"   ) +   theme_minimal()"},{"path":"https://ojwatson.github.io/chlaa/articles/fitting_workflow.html","id":"interpretation","dir":"Articles","previous_headings":"","what":"Interpretation","title":"Fitting Workflow","text":"synthetic example, model reproduces broad outbreak dynamics uncertainty envelope. real data, next: Run longer chains multiple seeds. Check convergence diagnostics formally. Stress-test assumptions (reporting process, intervention windows, priors). Carry posterior uncertainty scenario economic analyses.","code":""},{"path":"https://ojwatson.github.io/chlaa/articles/health_econ_and_optimisation.html","id":"why-this-workflow","dir":"Articles","previous_headings":"","what":"Why This Workflow?","title":"Health Economics and Optimisation","text":"vignette demonstrates epidemiological scenario output can translated decision-facing economic summaries: Explicit assumptions sources. Incremental costs health outcomes versus baseline. CE plane CEAC visualisations. Constrained budget allocation search.","code":"library(chlaa) library(ggplot2) set.seed(1)"},{"path":"https://ojwatson.github.io/chlaa/articles/health_econ_and_optimisation.html","id":"build-scenario-runs","dir":"Articles","previous_headings":"","what":"1) Build Scenario Runs","title":"Health Economics and Optimisation","text":"","code":"pars <- chlaa_parameters() time <- 0:60  scenarios <- list(   chlaa_scenario(\"baseline\", list()),   chlaa_scenario(\"wash_plus_cm\", list(     chlor_start = 10, chlor_end = 60, chlor_effect = 0.2,     hyg_start = 10, hyg_end = 60, hyg_effect = 0.2,     orc_start = 10, orc_end = 60, orc_capacity = pars$orc_capacity,     ctc_start = 10, ctc_end = 60, ctc_capacity = pars$ctc_capacity   )) )  runs <- chlaa_run_scenarios(   pars,   scenarios,   time = time,   n_particles = 40,   dt = 1,   seed = 1 )"},{"path":"https://ojwatson.github.io/chlaa/articles/health_econ_and_optimisation.html","id":"economics-assumptions-and-source-metadata","dir":"Articles","previous_headings":"","what":"2) Economics Assumptions And Source Metadata","title":"Health Economics and Optimisation","text":"Defaults illustrative replaced real analyses. Published assumption entries can filtered separately:","code":"econ <- chlaa_econ_defaults() econ_sources <- chlaa_econ_sources()  head(econ_sources) #>                                        name #> cost_per_vaccine_dose             published #> cost_per_orc_treatment           assumption #> cost_per_ctc_treatment           assumption #> cost_chlorination_per_person_day assumption #> cost_hygiene_per_person_day      assumption #> cost_latrine_per_person_day      assumption #>                                                                                                                            source_type #> cost_per_vaccine_dose            Routh et al. (2017) Cost Evaluation of a Government-Conducted Oral Cholera Vaccination Campaign—Haiti #> cost_per_orc_treatment                                                    Illustrative planning assumption for rapid scenario analysis #> cost_per_ctc_treatment                                                    Illustrative planning assumption for rapid scenario analysis #> cost_chlorination_per_person_day                                          Illustrative planning assumption for rapid scenario analysis #> cost_hygiene_per_person_day                                               Illustrative planning assumption for rapid scenario analysis #> cost_latrine_per_person_day                                               Illustrative planning assumption for rapid scenario analysis #>                                  citation #> cost_per_vaccine_dose                2013 #> cost_per_orc_treatment                    #> cost_per_ctc_treatment                    #> cost_chlorination_per_person_day          #> cost_hygiene_per_person_day               #> cost_latrine_per_person_day               #>                                                                                                                            source_url #> cost_per_vaccine_dose                                                               https://pmc.ncbi.nlm.nih.gov/articles/PMC5676633/ #> cost_per_orc_treatment           No single globally transferable unit cost; should be replaced with context-specific ORS/ORC costing. #> cost_per_ctc_treatment                          No single globally transferable unit cost; should be replaced with local CTC costing. #> cost_chlorination_per_person_day                                 WASH package unit costs vary widely by programme design and context. #> cost_hygiene_per_person_day                                      WASH package unit costs vary widely by programme design and context. #> cost_latrine_per_person_day                                      WASH package unit costs vary widely by programme design and context. #>                                                                                                                                 notes #> cost_per_vaccine_dose            Total campaign cost per dose around USD 2.90 in Haiti 2013; default uses rounded illustrative value. #> cost_per_orc_treatment                                                                                                                #> cost_per_ctc_treatment                                                                                                                #> cost_chlorination_per_person_day                                                                                                      #> cost_hygiene_per_person_day                                                                                                           #> cost_latrine_per_person_day subset(econ_sources, source_type == \"published\") #> [1] name        source_type citation    source_url  notes       #> <0 rows> (or 0-length row.names)"},{"path":"https://ojwatson.github.io/chlaa/articles/health_econ_and_optimisation.html","id":"incremental-cost-effectiveness-results","dir":"Articles","previous_headings":"","what":"3) Incremental Cost-Effectiveness Results","title":"Health Economics and Optimisation","text":"","code":"cmp <- chlaa_compare_scenarios(   runs,   baseline = \"baseline\",   include_econ = TRUE,   econ = econ,   wtp = 1500 ) cmp #> # A tibble: 2 × 21 #>   scenario     infections cases_symptomatic deaths doses orc_treated ctc_treated #>   <chr>             <dbl>             <dbl>  <dbl> <dbl>       <dbl>       <dbl> #> 1 baseline        566196.           138690. 15564.     0          0           0  #> 2 wash_plus_cm    528680.           124730. 10291      0      16923.       4103. #> # ℹ 14 more variables: infections_averted <dbl>, cases_averted <dbl>, #> #   deaths_averted <dbl>, cost <dbl>, dalys <dbl>, cost_diff <dbl>, #> #   dalys_averted <dbl>, icer_cost_per_daly_averted <dbl>, #> #   icer_cost_per_death_averted <dbl>, mean_cost_vax <dbl>, #> #   mean_cost_care <dbl>, mean_cost_wash <dbl>, nmb <dbl>, inmb <dbl> chlaa_plot_ce_plane(cmp)"},{"path":"https://ojwatson.github.io/chlaa/articles/health_econ_and_optimisation.html","id":"ceac","dir":"Articles","previous_headings":"","what":"4) CEAC","title":"Health Economics and Optimisation","text":"","code":"ceac_tbl <- chlaa_ceac(   runs,   baseline = \"baseline\",   wtp = seq(0, 3000, by = 250),   econ = econ )  head(ceac_tbl) #> # A tibble: 6 × 3 #>   scenario       wtp prob_best #>   <chr>        <dbl>     <dbl> #> 1 baseline         0         1 #> 2 wash_plus_cm   250         1 #> 3 wash_plus_cm   500         1 #> 4 wash_plus_cm   750         1 #> 5 wash_plus_cm  1000         1 #> 6 wash_plus_cm  1250         1 ggplot(ceac_tbl, aes(x = wtp, y = prob_best, colour = scenario)) +   geom_line(linewidth = 0.8) +   labs(     x = \"WTP (USD per DALY averted)\",     y = \"Probability cost-effective\",     colour = \"Scenario\",     title = \"Cost-effectiveness acceptability curves\"   ) +   theme_minimal()"},{"path":"https://ojwatson.github.io/chlaa/articles/health_econ_and_optimisation.html","id":"budget-allocation-optimisation","dir":"Articles","previous_headings":"","what":"5) Budget Allocation Optimisation","title":"Health Economics and Optimisation","text":"","code":"opt <- chlaa_optimise_budget(   pars = pars,   budget = 5e5,   time = time,   n_particles = 20,   dt = 1,   grid_size = 8,   min_fraction = list(vax = 0.1),   max_fraction = list(wash = 0.6),   max_vax_doses_per_day = 5000 )  opt$best #>    frac_vax frac_wash frac_care budget_vax budget_wash budget_care doses #> 7 0.2857143 0.1428571 0.5714286   142857.1    71428.57    285714.3 70000 #>   wash_intensity   deaths    cases #> 7     0.01971313 12924.05 135429.7 ggplot(opt$evaluations, aes(x = budget_vax, y = budget_wash, colour = deaths)) +   geom_point(size = 2, alpha = 0.8) +   scale_colour_viridis_c() +   labs(     x = \"Budget to vaccination\",     y = \"Budget to WASH\",     colour = \"Expected deaths\",     title = \"Budget allocation search surface\"   ) +   theme_minimal()"},{"path":"https://ojwatson.github.io/chlaa/articles/health_econ_and_optimisation.html","id":"interpretation","dir":"Articles","previous_headings":"","what":"Interpretation","title":"Health Economics and Optimisation","text":"outputs useful prioritisation sensitivity exploration, final procurement estimates. deployment, replace defaults local unit costs, local age structure, setting-specific YLL assumptions.","code":""},{"path":"https://ojwatson.github.io/chlaa/articles/scenario_workflow.html","id":"why-this-workflow","dir":"Articles","previous_headings":"","what":"Why This Workflow?","title":"Scenario Workflow","text":"vignette shows move baseline simulation operational scenarios, emphasis clear comparisons: Trigger detection. Snapshot branching (counterfactuals shared epidemic state). Overlay plots baseline-difference plots. Compact scenario summary tables.","code":"library(chlaa) library(ggplot2) set.seed(1)"},{"path":"https://ojwatson.github.io/chlaa/articles/scenario_workflow.html","id":"baseline-preview-and-trigger-time","dir":"Articles","previous_headings":"","what":"1) Baseline Preview And Trigger Time","title":"Scenario Workflow","text":"use simple threshold trigger (15 daily cases) example operational rule.","code":"pars <- chlaa_parameters() time_preview <- 0:260  baseline_preview <- chlaa_simulate(   pars,   time = time_preview,   n_particles = 40,   dt = 1,   seed = 1 )  trigger_time <- chlaa_trigger_time_from_sim(   baseline_preview,   threshold = 15,   var = \"inc_symptoms\" ) trigger_time #> [1] 10"},{"path":"https://ojwatson.github.io/chlaa/articles/scenario_workflow.html","id":"build-standard-scenario-set","dir":"Articles","previous_headings":"","what":"2) Build Standard Scenario Set","title":"Scenario Workflow","text":"","code":"scenarios <- chlaa_standard_scenarios(   pars = pars,   trigger_time = trigger_time,   horizon = max(time_preview),   vax_total_doses = 60000 ) vapply(scenarios, `[[`, character(1), \"name\") #> [1] \"baseline\"          \"no_vaccination\"    \"early_vaccination\" #> [4] \"late_vaccination\"  \"wash_only\"         \"cm_only\"           #> [7] \"combined_package\""},{"path":"https://ojwatson.github.io/chlaa/articles/scenario_workflow.html","id":"branch-counterfactuals-from-a-shared-snapshot","dir":"Articles","previous_headings":"","what":"3) Branch Counterfactuals From A Shared Snapshot","title":"Scenario Workflow","text":"Snapshot branching keeps pre-trigger epidemic history identical across scenarios, improves interpretability differences intervention start.","code":"snap <- chlaa_snapshot_create(   pars = pars,   snapshot_time = trigger_time,   n_particles = 40,   dt = 1,   seed = 1 )  post_time <- trigger_time:max(time_preview) runs <- chlaa_run_scenarios_from_snapshot(   snapshot = snap,   pars = pars,   scenarios = scenarios,   time = post_time )  head(runs) #>   scenario time particle      S   E   A  M Sev Mu Mt Sevu Sevt Ra Rs V1 V2 Du #> 1 baseline   10        1 539080 686 141 16   8 15  0    9    0 38  5  0  0  2 #> 2 baseline   10        2 539096 674 128 21   5 30  0    6    0 37  2  0  0  1 #> 3 baseline   10        3 539224 543 130 22   6 17  0    8    0 45  5  0  0  0 #> 4 baseline   10        4 539057 691 138 28  10 22  0   10    0 36  6  0  0  2 #> 5 baseline   10        5 539066 677 147 24   1 24  0   16    0 42  2  0  0  1 #> 6 baseline   10        6 538859 845 180 22  15 19  0   19    0 35  4  0  0  2 #>   Dt           C inc_infections inc_symptoms inc_deaths inc_vax1 inc_vax2 #> 1  0 0.009695160            323           21          0        0        0 #> 2  0 0.010350478            309           16          0        0        0 #> 3  0 0.009002428            238           20          0        0        0 #> 4  0 0.011948869            318           29          1        0        0 #> 5  0 0.012605655            336           17          0        0        0 #> 6  0 0.014912023            370           31          0        0        0 #>   cum_infections cum_symptoms cum_deaths cum_vax1 cum_vax2 cum_orc_treated #> 1            919           54          2        0        0               0 #> 2            902           63          1        0        0               0 #> 3            775           56          0        0        0               0 #> 4            941           76          2        0        0               0 #> 5            932           66          1        0        0               0 #> 6           1141           79          2        0        0               0 #>   cum_ctc_treated #> 1               0 #> 2               0 #> 3               0 #> 4               0 #> 5               0 #> 6               0"},{"path":"https://ojwatson.github.io/chlaa/articles/scenario_workflow.html","id":"compare-scenario-trajectories","dir":"Articles","previous_headings":"","what":"4) Compare Scenario Trajectories","title":"Scenario Workflow","text":"","code":"chlaa_plot_scenario_overlay(runs, var = \"inc_symptoms\") chlaa_plot_difference_vs_baseline(   runs,   baseline = \"baseline\",   var = \"inc_symptoms\",   cumulative = FALSE ) chlaa_plot_difference_vs_baseline(   runs,   baseline = \"baseline\",   var = \"inc_symptoms\",   cumulative = TRUE )"},{"path":"https://ojwatson.github.io/chlaa/articles/scenario_workflow.html","id":"summaries-for-decision-support","dir":"Articles","previous_headings":"","what":"5) Summaries For Decision Support","title":"Scenario Workflow","text":"","code":"summary_tbl <- chlaa_scenario_summary(runs, baseline = \"baseline\") summary_tbl #> # A tibble: 7 × 8 #>   scenario  total_cases total_deaths cases_averted deaths_averted peak_incidence #>   <chr>           <dbl>        <dbl>         <dbl>          <dbl>          <dbl> #> 1 baseline      232004.       33710.           0               0           7310. #> 2 cm_only       231918.       28301.          86.6          5409.          7253. #> 3 combined…     231918.       28301.          86.6          5409.          7253. #> 4 early_va…     231918.       28301.          86.6          5409.          7253. #> 5 late_vac…     231701.       28232.         304.           5478.          6948. #> 6 no_vacci…     224871.       27348.        7133.           6362.          4433. #> 7 wash_only     225212.       32685.        6792.           1026.          4478. #> # ℹ 2 more variables: time_peak <dbl>, time_to_control <dbl> cmp <- chlaa_compare_scenarios(   runs,   baseline = \"baseline\",   include_econ = TRUE,   wtp = 1500 ) cmp #> # A tibble: 7 × 21 #>   scenario     infections cases_symptomatic deaths doses orc_treated ctc_treated #>   <chr>             <dbl>             <dbl>  <dbl> <dbl>       <dbl>       <dbl> #> 1 baseline        937638.           232004. 33710.     0          0           0  #> 2 cm_only         937244.           231918. 28301.     0      22901.      10769. #> 3 combined_pa…    937244.           231918. 28301.     0      22901.      10769. #> 4 early_vacci…    937244.           231918. 28301.     0      22901.      10769. #> 5 late_vaccin…    936463.           231701. 28232. 60000      23307.      10853. #> 6 no_vaccinat…    908982.           224871. 27348.     0      26354       10537. #> 7 wash_only       910508.           225212. 32685.     0          0           0  #> # ℹ 14 more variables: infections_averted <dbl>, cases_averted <dbl>, #> #   deaths_averted <dbl>, cost <dbl>, dalys <dbl>, cost_diff <dbl>, #> #   dalys_averted <dbl>, icer_cost_per_daly_averted <dbl>, #> #   icer_cost_per_death_averted <dbl>, mean_cost_vax <dbl>, #> #   mean_cost_care <dbl>, mean_cost_wash <dbl>, nmb <dbl>, inmb <dbl> chlaa_plot_scenarios(cmp, metric = \"deaths_averted\")"},{"path":"https://ojwatson.github.io/chlaa/articles/scenario_workflow.html","id":"interpretation","dir":"Articles","previous_headings":"","what":"Interpretation","title":"Scenario Workflow","text":"Use pattern need transparent post-trigger comparisons. full posterior scenario forecasting, use chlaa_forecast_scenarios_from_fit() chlaa_plot_scenario_forecasts().","code":""},{"path":"https://ojwatson.github.io/chlaa/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"OJ Watson. Author, maintainer.","code":""},{"path":"https://ojwatson.github.io/chlaa/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Watson O (2026). chlaa: Cholera Outbreak Simulation Anticipatory Action Modelling. R package version 0.1.0, https://github.com/OJWatson/chlaa.","code":"@Manual{,   title = {chlaa: Cholera Outbreak Simulation and Anticipatory Action Modelling},   author = {OJ Watson},   year = {2026},   note = {R package version 0.1.0},   url = {https://github.com/OJWatson/chlaa}, }"},{"path":"https://ojwatson.github.io/chlaa/index.html","id":"chlaa","dir":"","previous_headings":"","what":"chlaa","title":"chlaa","text":"Stochastic cholera outbreak simulation anticipatory action (AA) modelling tools. package vendors generated dust2 C++ model code, can run simulation fitting without odin2 installed runtime. (odin2 needed regenerate bundled code; see docs/packaging.md.)","code":""},{"path":"https://ojwatson.github.io/chlaa/index.html","id":"minimal-simulation","dir":"","previous_headings":"","what":"Minimal simulation","title":"chlaa","text":"","code":"library(chlaa)  pars <- chlaa_parameters(Sev0 = 2) sim <- chlaa_simulate(pars, time = 0:180, n_particles = 50, dt = 0.25, seed = 1) sim"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_as_fit.html","id":null,"dir":"Reference","previous_headings":"","what":"Coerce an object into class `chlaa_fit` — chlaa_as_fit","title":"Coerce an object into class `chlaa_fit` — chlaa_as_fit","text":"Coerce object class `chlaa_fit`","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_as_fit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Coerce an object into class `chlaa_fit` — chlaa_as_fit","text":"","code":"chlaa_as_fit(x)"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_as_fit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Coerce an object into class `chlaa_fit` — chlaa_as_fit","text":"x fit object (typically `chlaa_fit_pmcmc()`).","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_as_fit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Coerce an object into class `chlaa_fit` — chlaa_as_fit","text":"object class `chlaa_fit` prepended.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_ceac.html","id":null,"dir":"Reference","previous_headings":"","what":"Cost-effectiveness acceptability table from scenario simulations — chlaa_ceac","title":"Cost-effectiveness acceptability table from scenario simulations — chlaa_ceac","text":"Cost-effectiveness acceptability table scenario simulations","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_ceac.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Cost-effectiveness acceptability table from scenario simulations — chlaa_ceac","text":"","code":"chlaa_ceac(   scenario_runs,   baseline = \"baseline\",   wtp = seq(0, 5000, by = 250),   econ = NULL )"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_ceac.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Cost-effectiveness acceptability table from scenario simulations — chlaa_ceac","text":"scenario_runs Output `chlaa_run_scenarios()`. baseline Baseline scenario name. wtp Numeric vector willingness--pay per DALY averted. econ Optional economics override list.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_ceac.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Cost-effectiveness acceptability table from scenario simulations — chlaa_ceac","text":"data.frame CEAC probabilities scenario WTP.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_compare_scenarios.html","id":null,"dir":"Reference","previous_headings":"","what":"Compare scenario outcomes against a baseline — chlaa_compare_scenarios","title":"Compare scenario outcomes against a baseline — chlaa_compare_scenarios","text":"Produces scenario comparison table including infections, symptomatic cases, deaths, doses, treatment counts, (optionally) costs DALYs ICERs vs baseline.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_compare_scenarios.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compare scenario outcomes against a baseline — chlaa_compare_scenarios","text":"","code":"chlaa_compare_scenarios(   scenario_runs,   baseline,   include_econ = TRUE,   econ = NULL,   wtp = NULL )"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_compare_scenarios.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compare scenario outcomes against a baseline — chlaa_compare_scenarios","text":"scenario_runs Output `chlaa_run_scenarios()`. baseline Baseline scenario name. include_econ TRUE, include health economic outputs (requires `chlaa_health_econ()`). econ Optional named list economic parameter overrides (passed `chlaa_health_econ()`). wtp Optional willingness--pay per DALY averted NMB/INMB outputs.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_compare_scenarios.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compare scenario outcomes against a baseline — chlaa_compare_scenarios","text":"data.frame scenario-level means deltas vs baseline.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_counterfactual_grid.html","id":null,"dir":"Reference","previous_headings":"","what":"Build a counterfactual grid of AA-like scenarios — chlaa_counterfactual_grid","title":"Build a counterfactual grid of AA-like scenarios — chlaa_counterfactual_grid","text":"creates grid scenarios crossing selected policy knobs.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_counterfactual_grid.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build a counterfactual grid of AA-like scenarios — chlaa_counterfactual_grid","text":"","code":"chlaa_counterfactual_grid(   trigger_time,   horizon,   aa_start_offset = 0,   wash_duration = 120,   care_duration = 120,   chlor_effect = 0.2,   hyg_effect = 0.2,   lat_effect = 0.1,   cati_effect = 0.1,   orc_capacity = 500,   ctc_capacity = 100,   vax_regimen = c(\"none\", \"1dose\", \"2dose\"),   vax_total_doses = c(0, 280000),   vax_delay = c(0, 14),   vax_campaign_days = 6,   vax_dose_interval = 14,   prefix = \"cf\" )"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_counterfactual_grid.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build a counterfactual grid of AA-like scenarios — chlaa_counterfactual_grid","text":"trigger_time Numeric trigger day. horizon End cap intervention windows (typically max(time)+1). aa_start_offset Vector offsets (days) added trigger_time (negative = earlier). wash_duration Vector durations (days). care_duration Vector durations (days). chlor_effect, hyg_effect, lat_effect, cati_effect Vectors fractional effects. orc_capacity, ctc_capacity Vectors capacities. vax_regimen Vector regimens: \"none\", \"1dose\", \"2dose\". vax_total_doses Vector total doses. vax_delay Vector delays AA start (days). vax_campaign_days Campaign duration (days) per round. vax_dose_interval Interval rounds (2-dose) days. prefix Scenario name prefix.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_counterfactual_grid.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build a counterfactual grid of AA-like scenarios — chlaa_counterfactual_grid","text":"data.frame columns: scenario, modify, knob columns.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_econ_defaults.html","id":null,"dir":"Reference","previous_headings":"","what":"Load default economics parameters — chlaa_econ_defaults","title":"Load default economics parameters — chlaa_econ_defaults","text":"Reads default unit costs DALY parameters `inst/extdata/econ/`. defaults intended demonstration rapid scenario analysis; replaced context-specific values real decisions.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_econ_defaults.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load default economics parameters — chlaa_econ_defaults","text":"","code":"chlaa_econ_defaults(overrides = NULL)"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_econ_defaults.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load default economics parameters — chlaa_econ_defaults","text":"overrides Optional named list values overriding defaults.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_econ_defaults.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load default economics parameters — chlaa_econ_defaults","text":"named list economics parameters. Includes `sources`   attribute containing source metadata (see `chlaa_econ_sources()`).","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_econ_sources.html","id":null,"dir":"Reference","previous_headings":"","what":"Load Economics Assumption Source Metadata — chlaa_econ_sources","title":"Load Economics Assumption Source Metadata — chlaa_econ_sources","text":"Reads source notes reference links economics default.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_econ_sources.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load Economics Assumption Source Metadata — chlaa_econ_sources","text":"","code":"chlaa_econ_sources()"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_econ_sources.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load Economics Assumption Source Metadata — chlaa_econ_sources","text":"data.frame one row per economics parameter columns   including `name`, `source_type`, `citation`, `source_url`.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_fit_density_trace.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract Likelihood (Log-Density) Trace From A Fit — chlaa_fit_density_trace","title":"Extract Likelihood (Log-Density) Trace From A Fit — chlaa_fit_density_trace","text":"Extract Likelihood (Log-Density) Trace Fit","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_fit_density_trace.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract Likelihood (Log-Density) Trace From A Fit — chlaa_fit_density_trace","text":"","code":"chlaa_fit_density_trace(fit, burnin = 0, thin = 1)"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_fit_density_trace.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract Likelihood (Log-Density) Trace From A Fit — chlaa_fit_density_trace","text":"fit Fit object returned `chlaa_fit_pmcmc()`. burnin Burn-proportion (0,1) iteration count. thin Thinning interval.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_fit_density_trace.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract Likelihood (Log-Density) Trace From A Fit — chlaa_fit_density_trace","text":"data.frame columns `iteration` `log_density`.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_fit_draws.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract posterior draws from a fit object — chlaa_fit_draws","title":"Extract posterior draws from a fit object — chlaa_fit_draws","text":"Supports common structures including monty output `fit$pars` 3D array: (parameter, sample, chain).","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_fit_draws.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract posterior draws from a fit object — chlaa_fit_draws","text":"","code":"chlaa_fit_draws(fit)"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_fit_draws.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract posterior draws from a fit object — chlaa_fit_draws","text":"fit Fit object returned `chlaa_fit_pmcmc()` (compatible).","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_fit_draws.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract posterior draws from a fit object — chlaa_fit_draws","text":"numeric matrix column names (iterations x parameters).","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_fit_draws.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Extract posterior draws from a fit object — chlaa_fit_draws","text":"column names missing, try use `attr(fit, \"packer\")$names`.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_fit_metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract fit metadata (packer, prior, start parameters, data) — chlaa_fit_metadata","title":"Extract fit metadata (packer, prior, start parameters, data) — chlaa_fit_metadata","text":"Extract fit metadata (packer, prior, start parameters, data)","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_fit_metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract fit metadata (packer, prior, start parameters, data) — chlaa_fit_metadata","text":"","code":"chlaa_fit_metadata(fit)"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_fit_metadata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract fit metadata (packer, prior, start parameters, data) — chlaa_fit_metadata","text":"fit `chlaa_fit` object.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_fit_metadata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract fit metadata (packer, prior, start parameters, data) — chlaa_fit_metadata","text":"named list.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_fit_pmcmc.html","id":null,"dir":"Reference","previous_headings":"","what":"Fit the cholera model to incidence data using pMCMC (monty + dust2) — chlaa_fit_pmcmc","title":"Fit the cholera model to incidence data using pMCMC (monty + dust2) — chlaa_fit_pmcmc","text":"Expects data.frame columns: - time: numeric times (days) - cases: integer case counts times","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_fit_pmcmc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fit the cholera model to incidence data using pMCMC (monty + dust2) — chlaa_fit_pmcmc","text":"","code":"chlaa_fit_pmcmc(   data,   pars,   n_particles = 200,   n_steps = 2000,   seed = 1,   prior = NULL,   packer = NULL,   proposal_var = 0.02 )"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_fit_pmcmc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fit the cholera model to incidence data using pMCMC (monty + dust2) — chlaa_fit_pmcmc","text":"data Data frame columns time cases. pars Starting parameter list. n_particles Number particles dust2 filter likelihood. n_steps Number MCMC steps. seed Random seed. prior Optional monty prior model. NULL, uses `chlaa_default_prior()`. packer Optional monty packer. NULL, uses `chlaa_default_packer()`. proposal_var Proposal variance (scalar) diagonal random walk.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_fit_pmcmc.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fit the cholera model to incidence data using pMCMC (monty + dust2) — chlaa_fit_pmcmc","text":"`chlaa_fit` object (also keeps monty class) attributes:   packer, prior, start_pars, data.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_fit_pmcmc.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Fit the cholera model to incidence data using pMCMC (monty + dust2) — chlaa_fit_pmcmc","text":"Likelihood defined inside `inst/odin/cholera_model_fit.R`: cases ~ NegativeBinomial(mu = reporting_rate * inc_symptoms, size = obs_size)","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_fit_report.html","id":null,"dir":"Reference","previous_headings":"","what":"Summarise fit diagnostics and posterior summaries — chlaa_fit_report","title":"Summarise fit diagnostics and posterior summaries — chlaa_fit_report","text":"Summarise fit diagnostics posterior summaries","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_fit_report.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summarise fit diagnostics and posterior summaries — chlaa_fit_report","text":"","code":"chlaa_fit_report(fit, burnin = 0.5, thin = 1, probs = c(0.025, 0.5, 0.975))"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_fit_report.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summarise fit diagnostics and posterior summaries — chlaa_fit_report","text":"fit `chlaa_fit` object. burnin Burn-proportion count. thin Thinning interval. probs Quantiles posterior summary.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_fit_report.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summarise fit diagnostics and posterior summaries — chlaa_fit_report","text":"list acceptance rate, iterations retained, posterior summary, trace data.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_fit_select_iterations.html","id":null,"dir":"Reference","previous_headings":"","what":"Select iterations from a posterior draws matrix — chlaa_fit_select_iterations","title":"Select iterations from a posterior draws matrix — chlaa_fit_select_iterations","text":"Select iterations posterior draws matrix","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_fit_select_iterations.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Select iterations from a posterior draws matrix — chlaa_fit_select_iterations","text":"","code":"chlaa_fit_select_iterations(draws, burnin = 0.5, thin = 1)"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_fit_select_iterations.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Select iterations from a posterior draws matrix — chlaa_fit_select_iterations","text":"draws Matrix posterior draws (iterations x parameters). burnin Burn-, either proportion (0,1) integer count. thin Thinning interval (integer >= 1).","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_fit_select_iterations.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Select iterations from a posterior draws matrix — chlaa_fit_select_iterations","text":"matrix subset draws.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_fit_trace.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract a long trace data frame from posterior draws — chlaa_fit_trace","title":"Extract a long trace data frame from posterior draws — chlaa_fit_trace","text":"Extract long trace data frame posterior draws","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_fit_trace.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract a long trace data frame from posterior draws — chlaa_fit_trace","text":"","code":"chlaa_fit_trace(fit, burnin = 0, thin = 1, parameters = NULL)"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_fit_trace.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract a long trace data frame from posterior draws — chlaa_fit_trace","text":"fit `chlaa_fit` object. burnin Burn-proportion count. thin Thinning interval. parameters Optional vector parameter names keep.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_fit_trace.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract a long trace data frame from posterior draws — chlaa_fit_trace","text":"long data.frame columns `iteration`, `parameter`, `value`.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_forecast_from_fit.html","id":null,"dir":"Reference","previous_headings":"","what":"Forecast summary from a fitted posterior — chlaa_forecast_from_fit","title":"Forecast summary from a fitted posterior — chlaa_forecast_from_fit","text":"Runs model multiple posterior draws returns time--time summaries (mean quantiles) selected variables.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_forecast_from_fit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Forecast summary from a fitted posterior — chlaa_forecast_from_fit","text":"","code":"chlaa_forecast_from_fit(   fit,   pars = NULL,   time = NULL,   vars = c(\"inc_symptoms\", \"cum_symptoms\", \"cum_deaths\"),   include_cases = TRUE,   obs_model = c(\"nbinom\", \"mean\"),   quantiles = c(0.025, 0.25, 0.5, 0.75, 0.975),   n_draws = 100,   burnin = 0.5,   thin = 1,   seed = 1,   dt = 0.25,   n_particles = 1,   n_threads = 1,   deterministic = FALSE,   modify = NULL )"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_forecast_from_fit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Forecast summary from a fitted posterior — chlaa_forecast_from_fit","text":"fit `chlaa_fit` object (compatible). pars Baseline parameter list. NULL, uses `attr(fit, \"start_pars\")`, otherwise `chlaa_parameters()`. time Vector times simulate. vars Character vector model variables summarise. include_cases Logical; include predicted observed cases variable \"cases\". obs_model One \"nbinom\" \"mean\". quantiles Numeric vector quantiles return. n_draws Number posterior draws use. burnin Burn-proportion integer. thin Thinning interval. seed Seed. dt Model time step. n_particles Particles per posterior draw. n_threads Threads dust2. deterministic Run process model deterministically (supported). modify Optional named list parameter modifications applied draw update.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_forecast_from_fit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Forecast summary from a fitted posterior — chlaa_forecast_from_fit","text":"tidy data.frame columns: time, variable, mean, quantiles, n_samples.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_forecast_from_fit.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Forecast summary from a fitted posterior — chlaa_forecast_from_fit","text":"`include_cases = TRUE`, also generates predictive distribution observed cases using observation model:   mu = reporting_rate * inc_symptoms either: - `obs_model = \"nbinom\"`: sample Negative Binomial noise - `obs_model = \"mean\"`: use mu directly","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_forecast_scenarios_from_fit.html","id":null,"dir":"Reference","previous_headings":"","what":"Forecast multiple scenarios from a fitted posterior — chlaa_forecast_scenarios_from_fit","title":"Forecast multiple scenarios from a fitted posterior — chlaa_forecast_scenarios_from_fit","text":"Selects posterior iterations (shared across scenarios), simulates baseline scenario using draw indices RNG seed streams, returns absolute forecasts paired differences vs baseline.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_forecast_scenarios_from_fit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Forecast multiple scenarios from a fitted posterior — chlaa_forecast_scenarios_from_fit","text":"","code":"chlaa_forecast_scenarios_from_fit(   fit,   pars = NULL,   scenarios = NULL,   baseline_name = \"baseline\",   time = NULL,   vars = c(\"inc_symptoms\", \"cum_symptoms\", \"cum_deaths\"),   include_cases = TRUE,   obs_model = c(\"nbinom\", \"mean\"),   quantiles = c(0.025, 0.25, 0.5, 0.75, 0.975),   n_draws = 100,   burnin = 0.5,   thin = 1,   seed = 1,   dt = 0.25,   n_particles = 1,   n_threads = 1,   deterministic = FALSE,   include_baseline_in_scenarios = TRUE )"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_forecast_scenarios_from_fit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Forecast multiple scenarios from a fitted posterior — chlaa_forecast_scenarios_from_fit","text":"fit `chlaa_fit` object. pars Baseline parameter list. NULL uses `attr(fit, \"start_pars\")` else `chlaa_parameters()`. scenarios Scenarios run (list `chlaa_scenario`, named list modify lists, grid data.frame). baseline_name Baseline scenario name (modify list may empty). time Simulation times. NULL uses `fit` data times. vars Model variables summarise. include_cases Include predicted observed cases variable \"cases\". obs_model One \"nbinom\" \"mean\". quantiles Quantiles compute. n_draws Number posterior draws use. burnin Burn-proportion integer. thin Thinning interval. seed Seed. dt Model time step. n_particles Particles per draw. n_threads Threads dust2. deterministic Deterministic process model toggle (supported). include_baseline_in_scenarios TRUE, ensures baseline included even passed.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_forecast_scenarios_from_fit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Forecast multiple scenarios from a fitted posterior — chlaa_forecast_scenarios_from_fit","text":"tidy data.frame columns: scenario, type, time, variable, mean, quantiles, n_samples.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_generate_example_outbreak_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate A Synthetic Multi-Wave Cholera Outbreak Time Series — chlaa_generate_example_outbreak_data","title":"Generate A Synthetic Multi-Wave Cholera Outbreak Time Series — chlaa_generate_example_outbreak_data","text":"Generates daily synthetic observed case counts pronounced first wave, temporary suppression, smaller rebound wave. generator uses package's simulation model plus Negative Binomial observation noise.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_generate_example_outbreak_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate A Synthetic Multi-Wave Cholera Outbreak Time Series — chlaa_generate_example_outbreak_data","text":"","code":"chlaa_generate_example_outbreak_data(   time = 1:330,   start_date = as.Date(\"2021-08-01\"),   seed = 42,   n_particles = 1,   dt = 1,   obs_size = 20 )"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_generate_example_outbreak_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate A Synthetic Multi-Wave Cholera Outbreak Time Series — chlaa_generate_example_outbreak_data","text":"time Numeric vector simulation times (days). start_date Optional start date; NULL, `date` column added. seed Integer random seed. n_particles Number particles used generate latent incidence. dt Model time step. obs_size Observation -dispersion (Negative Binomial size).","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_generate_example_outbreak_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate A Synthetic Multi-Wave Cholera Outbreak Time Series — chlaa_generate_example_outbreak_data","text":"data.frame columns `time`, `cases`, `mu_cases`,   `inc_symptoms_truth`, (optionally) `date`.   generating parameter set attached `attr(x, \"truth_parameters\")`.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_generate_example_outbreak_data.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Generate A Synthetic Multi-Wave Cholera Outbreak Time Series — chlaa_generate_example_outbreak_data","text":"intended examples/vignettes want realistic outbreak shape without shipping real line-list data.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_health_econ.html","id":null,"dir":"Reference","previous_headings":"","what":"Health economic outputs from scenario simulations — chlaa_health_econ","title":"Health economic outputs from scenario simulations — chlaa_health_econ","text":"Computes approximate costs DALYs scenario using explicit model accumulators: - cum_vax1, cum_vax2 (doses administered) - cum_orc_treated, cum_ctc_treated (cases treated) - cum_symptoms, cum_deaths (health outcomes)","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_health_econ.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Health economic outputs from scenario simulations — chlaa_health_econ","text":"","code":"chlaa_health_econ(scenario_runs, econ = NULL)"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_health_econ.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Health economic outputs from scenario simulations — chlaa_health_econ","text":"scenario_runs Output `chlaa_run_scenarios()`. econ Optional named list overriding default economic parameters.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_health_econ.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Health economic outputs from scenario simulations — chlaa_health_econ","text":"data.frame scenario-level mean costs, DALYs, components.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_health_econ.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Health economic outputs from scenario simulations — chlaa_health_econ","text":"WASH intervention costs optionally computed parameter windows `scenario_runs` attribute `scenario_parameters` (added `chlaa_run_scenarios()`).","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_make_aa_scenarios.html","id":null,"dir":"Reference","previous_headings":"","what":"Build a standard set of anticipatory action scenarios — chlaa_make_aa_scenarios","title":"Build a standard set of anticipatory action scenarios — chlaa_make_aa_scenarios","text":"Build standard set anticipatory action scenarios","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_make_aa_scenarios.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build a standard set of anticipatory action scenarios — chlaa_make_aa_scenarios","text":"","code":"chlaa_make_aa_scenarios(   pars,   trigger_time = NULL,   baseline_sim = NULL,   trigger_threshold = NULL,   horizon = NULL,   include_no_intervention = TRUE,   include_aa_no_vax = TRUE,   wash_duration = 120,   care_duration = 120,   chlor_effect = 0.2,   hyg_effect = 0.2,   lat_effect = 0.1,   cati_effect = 0.1,   orc_capacity = NULL,   ctc_capacity = NULL,   vax_total_doses = 0,   vax_delay = 0,   vax_campaign_days = 6,   vax_dose_interval = 14,   ve_1 = NULL,   ve_2 = NULL,   vax_immunity_1 = NULL,   vax_immunity_2 = NULL,   baseline_name = \"baseline\" )"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_make_aa_scenarios.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build a standard set of anticipatory action scenarios — chlaa_make_aa_scenarios","text":"pars Baseline parameter list. trigger_time Numeric day AA package starts. `NULL`, derived `baseline_sim` `trigger_threshold`. baseline_sim Baseline simulation output used derive trigger time `trigger_time` `NULL`. trigger_threshold Threshold `inc_symptoms` used derive trigger time. horizon Optional cap intervention end times (typically max simulation time + 1). include_no_intervention Include \"no_intervention\" scenario zeros response levers. include_aa_no_vax Include \"aa_no_vax\" scenario (WASH + care, vaccination). wash_duration Duration days WASH components. care_duration Duration days ORC/CTC availability. chlor_effect, hyg_effect, lat_effect, cati_effect Fractional effects (0-1). orc_capacity, ctc_capacity Capacities (persons/day) active. vax_total_doses Total doses available. vax_delay Days trigger start vaccination. vax_campaign_days Campaign duration round. vax_dose_interval Days rounds (2-dose scenario). ve_1, ve_2 Vaccine efficacies. vax_immunity_1, vax_immunity_2 Vaccine immunity durations days. baseline_name Name baseline scenario.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_make_aa_scenarios.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build a standard set of anticipatory action scenarios — chlaa_make_aa_scenarios","text":"list `chlaa_scenario` objects.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_make_aa_scenarios_from_fit.html","id":null,"dir":"Reference","previous_headings":"","what":"Create AA scenario set using a fitted posterior baseline — chlaa_make_aa_scenarios_from_fit","title":"Create AA scenario set using a fitted posterior baseline — chlaa_make_aa_scenarios_from_fit","text":"Convenience wrapper: updates parameters posterior draws calls `chlaa_make_aa_scenarios()`.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_make_aa_scenarios_from_fit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create AA scenario set using a fitted posterior baseline — chlaa_make_aa_scenarios_from_fit","text":"","code":"chlaa_make_aa_scenarios_from_fit(   fit,   pars,   draw = c(\"median\", \"mean\", \"sample\", \"index\"),   burnin = 0.5,   thin = 1,   seed = 1,   trigger_time = NULL,   trigger_threshold = 15,   trigger_time_var = \"inc_symptoms\",   trigger_sim_time = 0:365,   trigger_sim_particles = 50,   dt = 0.25,   horizon = NULL,   ... )"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_make_aa_scenarios_from_fit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create AA scenario set using a fitted posterior baseline — chlaa_make_aa_scenarios_from_fit","text":"fit Fit object. pars Baseline parameter list. draw Posterior draw selection passed `chlaa_update_from_fit()`. burnin, thin, seed Passed `chlaa_update_from_fit()`. trigger_time Optional explicit trigger time. trigger_threshold trigger_time NULL, derive baseline simulation using threshold. trigger_time_var Variable used thresholding (default `inc_symptoms`). trigger_sim_time Time vector used baseline simulation deriving trigger. trigger_sim_particles Particles used baseline simulation deriving trigger. dt Model time step. horizon Optional cap intervention end times. ... arguments forwarded `chlaa_make_aa_scenarios()` (e.g. vax_total_doses).","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_make_aa_scenarios_from_fit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create AA scenario set using a fitted posterior baseline — chlaa_make_aa_scenarios_from_fit","text":"list scenarios attribute `baseline_pars`.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_optimise_budget.html","id":null,"dir":"Reference","previous_headings":"","what":"Optimise intervention allocation under a budget constraint — chlaa_optimise_budget","title":"Optimise intervention allocation under a budget constraint — chlaa_optimise_budget","text":"Simple grid-search optimiser allocating budget across vaccination WASH, optional constraints. pragmatic starting point; swap sophisticated optimiser costs decision variables finalised.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_optimise_budget.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Optimise intervention allocation under a budget constraint — chlaa_optimise_budget","text":"","code":"chlaa_optimise_budget(   pars,   budget,   cost = list(cost_per_vaccine_dose = 2, cost_chlorination_per_person_day = 0.02,     cost_hygiene_per_person_day = 0.03, cost_latrine_per_person_day = 0.01,     cost_cati_per_person_day = 0.05, cost_per_orc_treatment = 10, cost_per_ctc_treatment     = 80),   time = 0:180,   n_particles = 100,   dt = 0.25,   seed = 1,   grid_size = 10,   min_fraction = list(vax = 0, wash = 0, care = 0),   max_fraction = list(vax = 1, wash = 1, care = 1),   max_vax_doses_per_day = Inf,   max_total_doses = Inf,   method = c(\"auto\", \"grid\", \"continuous\") )"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_optimise_budget.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Optimise intervention allocation under a budget constraint — chlaa_optimise_budget","text":"pars Baseline parameter list. budget Total budget. cost Cost list (see Details). time Simulation times. n_particles Number particles evaluation. dt Time step. seed Seed. grid_size Number grid points per decision dimension. min_fraction Named list minimum allocation fractions intervention (`vax`, `wash`, `care`). max_fraction Named list maximum allocation fractions intervention (`vax`, `wash`, `care`). max_vax_doses_per_day Maximum feasible vaccination doses per day. max_total_doses Optional upper bound total vaccine doses. method Optimisation method: \"auto\", \"grid\", \"continuous\".","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_optimise_budget.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Optimise intervention allocation under a budget constraint — chlaa_optimise_budget","text":"list best allocation data.frame evaluated allocations.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_optimise_budget.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Optimise intervention allocation under a budget constraint — chlaa_optimise_budget","text":"objective minimise expected deaths (mean across particles) horizon. `cost` named list can include: - cost_per_vaccine_dose - cost_chlorination_per_person_day - cost_hygiene_per_person_day - cost_latrine_per_person_day - cost_cati_per_person_day Budget spent : - vaccination doses (vax1_total_doses, vax1_doses_per_day within campaign window) - WASH (implemented setting intervention effects; placeholder mapping)","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_parameter_info.html","id":null,"dir":"Reference","previous_headings":"","what":"Parameter metadata table for the cholera model — chlaa_parameter_info","title":"Parameter metadata table for the cholera model — chlaa_parameter_info","text":"Returns metadata parameters required odin model observation model. Defaults aligned defaults `inst/odin/cholera_model.R` `inst/odin/cholera_model_fit.R`.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_parameter_info.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parameter metadata table for the cholera model — chlaa_parameter_info","text":"","code":"chlaa_parameter_info()"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_parameter_info.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Parameter metadata table for the cholera model — chlaa_parameter_info","text":"data.frame columns: name, default, units, description, source.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_parameters.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a parameter list for the cholera model — chlaa_parameters","title":"Create a parameter list for the cholera model — chlaa_parameters","text":"Uses defaults `chlaa_parameter_info()` allows overriding via `...`.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_parameters.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a parameter list for the cholera model — chlaa_parameters","text":"","code":"chlaa_parameters(..., validate = TRUE)"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_parameters.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a parameter list for the cholera model — chlaa_parameters","text":"... Named parameter overrides, e.g. `Sev0 = 3`, `N = 250000`. validate Logical; validate resulting parameter list.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_parameters.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a parameter list for the cholera model — chlaa_parameters","text":"named list parameters.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_parameters_print.html","id":null,"dir":"Reference","previous_headings":"","what":"Print a parameter table — chlaa_parameters_print","title":"Print a parameter table — chlaa_parameters_print","text":"Print parameter table","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_parameters_print.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print a parameter table — chlaa_parameters_print","text":"","code":"chlaa_parameters_print(pars)"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_parameters_print.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print a parameter table — chlaa_parameters_print","text":"pars Parameter list.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_parameters_print.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print a parameter table — chlaa_parameters_print","text":"data.frame joining values metadata.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_parameters_validate.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate a cholera parameter list — chlaa_parameters_validate","title":"Validate a cholera parameter list — chlaa_parameters_validate","text":"Validate cholera parameter list","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_parameters_validate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate a cholera parameter list — chlaa_parameters_validate","text":"","code":"chlaa_parameters_validate(pars)"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_parameters_validate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate a cholera parameter list — chlaa_parameters_validate","text":"pars Parameter list.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_parameters_validate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validate a cholera parameter list — chlaa_parameters_validate","text":"Invisibly returns `pars` valid, otherwise errors.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_ce_plane.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot a cost-effectiveness plane from scenario comparisons — chlaa_plot_ce_plane","title":"Plot a cost-effectiveness plane from scenario comparisons — chlaa_plot_ce_plane","text":"Expects output `chlaa_compare_scenarios(..., include_econ = TRUE)`.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_ce_plane.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot a cost-effectiveness plane from scenario comparisons — chlaa_plot_ce_plane","text":"","code":"chlaa_plot_ce_plane(cmp)"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_ce_plane.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot a cost-effectiveness plane from scenario comparisons — chlaa_plot_ce_plane","text":"cmp Comparison table.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_ce_plane.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot a cost-effectiveness plane from scenario comparisons — chlaa_plot_ce_plane","text":"ggplot object.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_difference_vs_baseline.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Scenario Differences Versus Baseline Through Time — chlaa_plot_difference_vs_baseline","title":"Plot Scenario Differences Versus Baseline Through Time — chlaa_plot_difference_vs_baseline","text":"Computes `scenario - baseline` differences time shows uncertainty ribbons scenario. Optionally plots cumulative differences.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_difference_vs_baseline.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Scenario Differences Versus Baseline Through Time — chlaa_plot_difference_vs_baseline","text":"","code":"chlaa_plot_difference_vs_baseline(   scenario_runs,   baseline = \"baseline\",   var = \"inc_symptoms\",   cumulative = FALSE,   probs = c(0.1, 0.9) )"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_difference_vs_baseline.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Scenario Differences Versus Baseline Through Time — chlaa_plot_difference_vs_baseline","text":"scenario_runs Output `chlaa_run_scenarios()` `chlaa_run_scenarios_from_snapshot()`. baseline Baseline scenario name. var Variable compare (default `inc_symptoms`). cumulative TRUE, show cumulative differences time. probs Two-element interval ribbon bounds.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_difference_vs_baseline.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Scenario Differences Versus Baseline Through Time — chlaa_plot_difference_vs_baseline","text":"ggplot object.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_forecast.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot a forecast summary — chlaa_plot_forecast","title":"Plot a forecast summary — chlaa_plot_forecast","text":"Plot forecast summary","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_forecast.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot a forecast summary — chlaa_plot_forecast","text":"","code":"chlaa_plot_forecast(   forecast,   var,   data = NULL,   data_time = \"time\",   data_y = NULL,   show_mean = FALSE )"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_forecast.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot a forecast summary — chlaa_plot_forecast","text":"forecast Output `chlaa_forecast_from_fit()`. var Variable plot. data Optional observed data frame (must time column matching y column). data_time Column name time `data`. data_y Column name y `data`. NULL, uses `var`. show_mean Plot mean line well median.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_forecast.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot a forecast summary — chlaa_plot_forecast","text":"ggplot object.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_incidence.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot daily incidence summary for a variable — chlaa_plot_incidence","title":"Plot daily incidence summary for a variable — chlaa_plot_incidence","text":"Plot daily incidence summary variable","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_incidence.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot daily incidence summary for a variable — chlaa_plot_incidence","text":"","code":"chlaa_plot_incidence(sim, var = \"inc_symptoms\")"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_incidence.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot daily incidence summary for a variable — chlaa_plot_incidence","text":"sim Simulation output. var Incidence variable (default inc_symptoms).","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_incidence.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot daily incidence summary for a variable — chlaa_plot_incidence","text":"ggplot object.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_likelihood_density.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Distribution Of Likelihood Values — chlaa_plot_likelihood_density","title":"Plot Distribution Of Likelihood Values — chlaa_plot_likelihood_density","text":"Plot Distribution Likelihood Values","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_likelihood_density.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Distribution Of Likelihood Values — chlaa_plot_likelihood_density","text":"","code":"chlaa_plot_likelihood_density(fit, burnin = 0, thin = 1)"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_likelihood_density.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Distribution Of Likelihood Values — chlaa_plot_likelihood_density","text":"fit Fit object returned `chlaa_fit_pmcmc()`. burnin Burn-proportion (0,1) iteration count. thin Thinning interval.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_likelihood_density.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Distribution Of Likelihood Values — chlaa_plot_likelihood_density","text":"ggplot object.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_likelihood_trace.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot The Likelihood Trace — chlaa_plot_likelihood_trace","title":"Plot The Likelihood Trace — chlaa_plot_likelihood_trace","text":"Plot Likelihood Trace","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_likelihood_trace.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot The Likelihood Trace — chlaa_plot_likelihood_trace","text":"","code":"chlaa_plot_likelihood_trace(fit, burnin = 0, thin = 1)"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_likelihood_trace.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot The Likelihood Trace — chlaa_plot_likelihood_trace","text":"fit Fit object returned `chlaa_fit_pmcmc()`. burnin Burn-proportion (0,1) iteration count. thin Thinning interval.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_likelihood_trace.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot The Likelihood Trace — chlaa_plot_likelihood_trace","text":"ggplot object.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_parameter_pairs.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Pairwise Posterior Parameter Densities — chlaa_plot_parameter_pairs","title":"Plot Pairwise Posterior Parameter Densities — chlaa_plot_parameter_pairs","text":"Plot Pairwise Posterior Parameter Densities","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_parameter_pairs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Pairwise Posterior Parameter Densities — chlaa_plot_parameter_pairs","text":"","code":"chlaa_plot_parameter_pairs(   fit,   parameters = NULL,   burnin = 0.5,   thin = 1,   max_points = 2000 )"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_parameter_pairs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Pairwise Posterior Parameter Densities — chlaa_plot_parameter_pairs","text":"fit Fit object returned `chlaa_fit_pmcmc()`. parameters Optional parameter subset. Defaults first five. burnin Burn-proportion (0,1) iteration count. thin Thinning interval. max_points Maximum sampled posterior rows plot.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_parameter_pairs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Pairwise Posterior Parameter Densities — chlaa_plot_parameter_pairs","text":"ggplot object.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_parameter_vs_likelihood.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Parameters Against Sampled Likelihood — chlaa_plot_parameter_vs_likelihood","title":"Plot Parameters Against Sampled Likelihood — chlaa_plot_parameter_vs_likelihood","text":"Plot Parameters Sampled Likelihood","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_parameter_vs_likelihood.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Parameters Against Sampled Likelihood — chlaa_plot_parameter_vs_likelihood","text":"","code":"chlaa_plot_parameter_vs_likelihood(   fit,   parameters = NULL,   burnin = 0.5,   thin = 1,   max_points = 2000 )"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_parameter_vs_likelihood.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Parameters Against Sampled Likelihood — chlaa_plot_parameter_vs_likelihood","text":"fit Fit object returned `chlaa_fit_pmcmc()`. parameters Optional parameter subset. Defaults first six. burnin Burn-proportion (0,1) iteration count. thin Thinning interval. max_points Maximum sampled posterior rows plot.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_parameter_vs_likelihood.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Parameters Against Sampled Likelihood — chlaa_plot_parameter_vs_likelihood","text":"ggplot object.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_ppc.html","id":null,"dir":"Reference","previous_headings":"","what":"Posterior predictive check plot for observed cases — chlaa_plot_ppc","title":"Posterior predictive check plot for observed cases — chlaa_plot_ppc","text":"Convenience wrapper: builds forecast observed data times including \"cases\" overlays observations.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_ppc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Posterior predictive check plot for observed cases — chlaa_plot_ppc","text":"","code":"chlaa_plot_ppc(   fit,   pars = NULL,   data = NULL,   n_draws = 200,   burnin = 0.5,   thin = 1,   seed = 1,   dt = 0.25,   n_particles = 1,   obs_model = c(\"nbinom\", \"mean\") )"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_ppc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Posterior predictive check plot for observed cases — chlaa_plot_ppc","text":"fit `chlaa_fit` object. pars Baseline parameter list. NULL uses `attr(fit, \"start_pars\")`. data Observed data. NULL uses `attr(fit, \"data\")`. n_draws Number posterior draws. burnin Burn-posterior draws. thin Thinning posterior draws. seed Seed. dt Model time step. n_particles Particles per draw. obs_model Observation model noise: \"nbinom\" \"mean\".","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_ppc.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Posterior predictive check plot for observed cases — chlaa_plot_ppc","text":"ggplot object.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_scenario_forecasts.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot scenario forecast summaries — chlaa_plot_scenario_forecasts","title":"Plot scenario forecast summaries — chlaa_plot_scenario_forecasts","text":"Works output `chlaa_forecast_scenarios_from_fit()`.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_scenario_forecasts.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot scenario forecast summaries — chlaa_plot_scenario_forecasts","text":"","code":"chlaa_plot_scenario_forecasts(   forecast,   var,   type = c(\"absolute\", \"difference\"),   scenarios = NULL,   include_baseline = NULL,   facet = FALSE,   show_mean = FALSE,   data = NULL,   data_time = \"time\",   data_y = NULL )"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_scenario_forecasts.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot scenario forecast summaries — chlaa_plot_scenario_forecasts","text":"forecast Scenario forecast table. var Variable plot (e.g. \"cases\", \"inc_symptoms\", \"cum_deaths\"). type \"absolute\" scenario trajectories, \"difference\" scenario minus baseline. scenarios Optional character vector scenario names include. include_baseline Include baseline scenario plot. facet TRUE, facet scenario; FALSE, overlay scenarios. show_mean TRUE, add dashed mean line. data Optional observed data overlay (meaningful type = \"absolute\"). data_time Time column name `data`. data_y Y column name `data` (defaults `var`).","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_scenario_forecasts.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot scenario forecast summaries — chlaa_plot_scenario_forecasts","text":"ggplot object.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_scenario_overlay.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot Scenario Trajectories On A Shared Axis — chlaa_plot_scenario_overlay","title":"Plot Scenario Trajectories On A Shared Axis — chlaa_plot_scenario_overlay","text":"Summarises scenario particles overlays median uncertainty ribbons one panel make cross-scenario differences easier inspect.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_scenario_overlay.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot Scenario Trajectories On A Shared Axis — chlaa_plot_scenario_overlay","text":"","code":"chlaa_plot_scenario_overlay(   scenario_runs,   var = \"inc_symptoms\",   probs = c(0.1, 0.9) )"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_scenario_overlay.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot Scenario Trajectories On A Shared Axis — chlaa_plot_scenario_overlay","text":"scenario_runs Output `chlaa_run_scenarios()` `chlaa_run_scenarios_from_snapshot()`. var Variable summarise (default `inc_symptoms`). probs Two-element interval ribbon bounds.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_scenario_overlay.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot Scenario Trajectories On A Shared Axis — chlaa_plot_scenario_overlay","text":"ggplot object.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_scenarios.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot scenario comparison bars for a chosen metric — chlaa_plot_scenarios","title":"Plot scenario comparison bars for a chosen metric — chlaa_plot_scenarios","text":"Plot scenario comparison bars chosen metric","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_scenarios.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot scenario comparison bars for a chosen metric — chlaa_plot_scenarios","text":"","code":"chlaa_plot_scenarios(cmp, metric = \"deaths\")"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_scenarios.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot scenario comparison bars for a chosen metric — chlaa_plot_scenarios","text":"cmp Output `chlaa_compare_scenarios()`. metric Column `cmp` plot.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_scenarios.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot scenario comparison bars for a chosen metric — chlaa_plot_scenarios","text":"ggplot object.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_trace.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot fit traces for selected parameters — chlaa_plot_trace","title":"Plot fit traces for selected parameters — chlaa_plot_trace","text":"Plot fit traces selected parameters","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_trace.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot fit traces for selected parameters — chlaa_plot_trace","text":"","code":"chlaa_plot_trace(fit, parameters = NULL, burnin = 0, thin = 1)"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_trace.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot fit traces for selected parameters — chlaa_plot_trace","text":"fit `chlaa_fit` object. parameters Optional subset parameter names. burnin Burn-proportion count. thin Thinning interval.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_trace.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot fit traces for selected parameters — chlaa_plot_trace","text":"ggplot object.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_trajectories.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot trajectories of selected model variables — chlaa_plot_trajectories","title":"Plot trajectories of selected model variables — chlaa_plot_trajectories","text":"Plot trajectories selected model variables","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_trajectories.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot trajectories of selected model variables — chlaa_plot_trajectories","text":"","code":"chlaa_plot_trajectories(   sim,   vars = c(\"inc_symptoms\", \"cum_deaths\"),   facet = TRUE )"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_trajectories.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot trajectories of selected model variables — chlaa_plot_trajectories","text":"sim Output `chlaa_simulate()` `chlaa_run_scenarios()`. vars Variables plot. facet TRUE, facet variable.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_plot_trajectories.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot trajectories of selected model variables — chlaa_plot_trajectories","text":"ggplot object.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_posterior_summary.html","id":null,"dir":"Reference","previous_headings":"","what":"Posterior summary table for a fit — chlaa_posterior_summary","title":"Posterior summary table for a fit — chlaa_posterior_summary","text":"Posterior summary table fit","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_posterior_summary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Posterior summary table for a fit — chlaa_posterior_summary","text":"","code":"chlaa_posterior_summary(   fit,   burnin = 0.5,   thin = 1,   probs = c(0.025, 0.5, 0.975) )"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_posterior_summary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Posterior summary table for a fit — chlaa_posterior_summary","text":"fit `chlaa_fit` object. burnin Burn-proportion (0-1) integer iterations. thin Thinning interval. probs Quantiles compute.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_posterior_summary.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Posterior summary table for a fit — chlaa_posterior_summary","text":"data.frame columns: parameter, mean, sd, quantiles.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_prepare_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare and validate incidence data for model fitting — chlaa_prepare_data","title":"Prepare and validate incidence data for model fitting — chlaa_prepare_data","text":"Prepare validate incidence data model fitting","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_prepare_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare and validate incidence data for model fitting — chlaa_prepare_data","text":"","code":"chlaa_prepare_data(   data,   time_col = \"time\",   cases_col = \"cases\",   expected_step = NULL,   fill_missing = FALSE )"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_prepare_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare and validate incidence data for model fitting — chlaa_prepare_data","text":"data Input data.frame. time_col Name time column. cases_col Name observed case-count column. expected_step Optional expected time step. provided, times must follow step. fill_missing TRUE `expected_step` provided, fill missing time rows zero cases.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_prepare_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare and validate incidence data for model fitting — chlaa_prepare_data","text":"data.frame columns `time` `cases`.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_run_counterfactual_grid.html","id":null,"dir":"Reference","previous_headings":"","what":"Run a counterfactual grid (convenience) — chlaa_run_counterfactual_grid","title":"Run a counterfactual grid (convenience) — chlaa_run_counterfactual_grid","text":"Run counterfactual grid (convenience)","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_run_counterfactual_grid.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run a counterfactual grid (convenience) — chlaa_run_counterfactual_grid","text":"","code":"chlaa_run_counterfactual_grid(   pars,   grid,   time,   baseline_name = \"baseline\",   n_particles = 200,   dt = 0.25,   seed = 1 )"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_run_counterfactual_grid.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run a counterfactual grid (convenience) — chlaa_run_counterfactual_grid","text":"pars Baseline parameter list. grid Counterfactual grid `chlaa_counterfactual_grid()`. time Simulation times. baseline_name Name baseline scenario include. n_particles Particles per scenario. dt Time step. seed Seed.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_run_counterfactual_grid.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Run a counterfactual grid (convenience) — chlaa_run_counterfactual_grid","text":"Output `chlaa_run_scenarios()` (baseline + grid scenarios).","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_run_scenarios.html","id":null,"dir":"Reference","previous_headings":"","what":"Run multiple scenarios — chlaa_run_scenarios","title":"Run multiple scenarios — chlaa_run_scenarios","text":"Run multiple scenarios","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_run_scenarios.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run multiple scenarios — chlaa_run_scenarios","text":"","code":"chlaa_run_scenarios(   pars,   scenarios,   time,   n_particles = 200,   dt = 0.25,   seed = 1 )"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_run_scenarios.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run multiple scenarios — chlaa_run_scenarios","text":"pars Baseline parameters. scenarios List `chlaa_scenario` objects. time Simulation times. n_particles Particles per scenario. dt Time step. seed Base seed (scenario uses seed + ).","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_run_scenarios.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Run multiple scenarios — chlaa_run_scenarios","text":"data.frame simulation outputs `scenario` column. returned data frame   attribute `scenario_parameters`, named list parameter lists used per scenario.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_run_scenarios_from_snapshot.html","id":null,"dir":"Reference","previous_headings":"","what":"Run Multiple Scenarios From A Shared Snapshot — chlaa_run_scenarios_from_snapshot","title":"Run Multiple Scenarios From A Shared Snapshot — chlaa_run_scenarios_from_snapshot","text":"Run Multiple Scenarios Shared Snapshot","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_run_scenarios_from_snapshot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run Multiple Scenarios From A Shared Snapshot — chlaa_run_scenarios_from_snapshot","text":"","code":"chlaa_run_scenarios_from_snapshot(   snapshot,   pars,   scenarios,   time,   n_threads = 1,   deterministic = FALSE )"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_run_scenarios_from_snapshot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run Multiple Scenarios From A Shared Snapshot — chlaa_run_scenarios_from_snapshot","text":"snapshot Snapshot `chlaa_snapshot_create()`. pars Baseline parameter list. scenarios List `chlaa_scenario` objects. time Times simulate (must >= snapshot time). n_threads Threads dust2. deterministic Deterministic mode (supported).","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_run_scenarios_from_snapshot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Run Multiple Scenarios From A Shared Snapshot — chlaa_run_scenarios_from_snapshot","text":"Combined scenario simulation data.frame `scenario` column.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_scenario.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a counterfactual scenario — chlaa_scenario","title":"Create a counterfactual scenario — chlaa_scenario","text":"Create counterfactual scenario","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_scenario.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a counterfactual scenario — chlaa_scenario","text":"","code":"chlaa_scenario(name, modify)"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_scenario.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a counterfactual scenario — chlaa_scenario","text":"name Scenario name. modify Named list parameter modifications.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_scenario.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create a counterfactual scenario — chlaa_scenario","text":"object class `chlaa_scenario`.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_scenario_report.html","id":null,"dir":"Reference","previous_headings":"","what":"Produce a compact scenario analysis report object — chlaa_scenario_report","title":"Produce a compact scenario analysis report object — chlaa_scenario_report","text":"Produce compact scenario analysis report object","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_scenario_report.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Produce a compact scenario analysis report object — chlaa_scenario_report","text":"","code":"chlaa_scenario_report(   scenario_runs,   baseline = \"baseline\",   include_econ = TRUE,   econ = NULL,   wtp = NULL )"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_scenario_report.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Produce a compact scenario analysis report object — chlaa_scenario_report","text":"scenario_runs Output `chlaa_run_scenarios()`. baseline Baseline scenario name. include_econ Include economic comparison table. econ Economic parameter overrides passed economics functions. wtp Optional willingness--pay per DALY NMB outputs.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_scenario_report.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Produce a compact scenario analysis report object — chlaa_scenario_report","text":"list summary table key plots.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_scenario_summary.html","id":null,"dir":"Reference","previous_headings":"","what":"Summarise scenario outcomes with uncertainty and baseline deltas — chlaa_scenario_summary","title":"Summarise scenario outcomes with uncertainty and baseline deltas — chlaa_scenario_summary","text":"Summarise scenario outcomes uncertainty baseline deltas","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_scenario_summary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summarise scenario outcomes with uncertainty and baseline deltas — chlaa_scenario_summary","text":"","code":"chlaa_scenario_summary(   scenario_runs,   baseline = \"baseline\",   incidence_var = \"inc_symptoms\",   control_threshold = 1 )"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_scenario_summary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summarise scenario outcomes with uncertainty and baseline deltas — chlaa_scenario_summary","text":"scenario_runs Output `chlaa_run_scenarios()`. baseline Baseline scenario name. incidence_var Incidence variable used peak control metrics. control_threshold Threshold used time--control metrics.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_scenario_summary.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summarise scenario outcomes with uncertainty and baseline deltas — chlaa_scenario_summary","text":"data.frame scenario summaries.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_scenarios_from_grid.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert a counterfactual grid to scenario objects — chlaa_scenarios_from_grid","title":"Convert a counterfactual grid to scenario objects — chlaa_scenarios_from_grid","text":"Convert counterfactual grid scenario objects","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_scenarios_from_grid.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert a counterfactual grid to scenario objects — chlaa_scenarios_from_grid","text":"","code":"chlaa_scenarios_from_grid(grid)"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_scenarios_from_grid.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert a counterfactual grid to scenario objects — chlaa_scenarios_from_grid","text":"grid Output `chlaa_counterfactual_grid()`.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_scenarios_from_grid.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert a counterfactual grid to scenario objects — chlaa_scenarios_from_grid","text":"list `chlaa_scenario` objects.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_simulate.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulate the cholera model — chlaa_simulate","title":"Simulate the cholera model — chlaa_simulate","text":"Simulate cholera model","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_simulate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulate the cholera model — chlaa_simulate","text":"","code":"chlaa_simulate(   pars,   time,   n_particles = 1,   dt = 0.25,   seed = 1,   which = c(\"simulate\", \"fit\"),   n_threads = 1,   deterministic = FALSE )"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_simulate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simulate the cholera model — chlaa_simulate","text":"pars Parameter list, typically `chlaa_parameters()`. time Vector times simulate (days). n_particles Number particles. dt Discrete time step (days). seed RNG seed. bundled generator use: \"simulate\" (default) \"fit\". fit generator includes observation model needed filtering/likelihood. n_threads Threads dust2. deterministic Run deterministic mode (replacing RNG draws expectations) supported.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_simulate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Simulate the cholera model — chlaa_simulate","text":"data.frame columns `time`, `particle`, model variables.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_simulate_from_snapshot.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulate Forward From A Snapshot — chlaa_simulate_from_snapshot","title":"Simulate Forward From A Snapshot — chlaa_simulate_from_snapshot","text":"Simulate Forward Snapshot","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_simulate_from_snapshot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulate Forward From A Snapshot — chlaa_simulate_from_snapshot","text":"","code":"chlaa_simulate_from_snapshot(   snapshot,   pars = NULL,   time,   n_threads = 1,   deterministic = FALSE )"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_simulate_from_snapshot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simulate Forward From A Snapshot — chlaa_simulate_from_snapshot","text":"snapshot Snapshot object `chlaa_snapshot_create()`. pars Optional parameter list use snapshot onward. time Times simulate (must >= `snapshot$time`). n_threads Threads dust2. deterministic Deterministic mode (supported).","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_simulate_from_snapshot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Simulate Forward From A Snapshot — chlaa_simulate_from_snapshot","text":"Simulation output data.frame `chlaa_simulate()`.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_simulate_posterior.html","id":null,"dir":"Reference","previous_headings":"","what":"Posterior predictive simulation — chlaa_simulate_posterior","title":"Posterior predictive simulation — chlaa_simulate_posterior","text":"Runs simulation model multiple posterior draws returns long data frame.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_simulate_posterior.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Posterior predictive simulation — chlaa_simulate_posterior","text":"","code":"chlaa_simulate_posterior(   fit,   pars,   time,   n_draws = 50,   burnin = 0.5,   thin = 1,   seed = 1,   dt = 0.25,   n_particles = 1 )"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_simulate_posterior.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Posterior predictive simulation — chlaa_simulate_posterior","text":"fit Fit object. pars Baseline parameter list. time Simulation times. n_draws Number posterior draws simulate. burnin, thin Passed draw selection. seed Seed. dt Model time step. n_particles Particles per posterior draw.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_simulate_posterior.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Posterior predictive simulation — chlaa_simulate_posterior","text":"data.frame columns: draw, time, particle, plus model variables.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_snapshot_create.html","id":null,"dir":"Reference","previous_headings":"","what":"Create A Simulation Snapshot At A Given Time — chlaa_snapshot_create","title":"Create A Simulation Snapshot At A Given Time — chlaa_snapshot_create","text":"Runs model initial state `snapshot_time` stores full model state plus RNG state. snapshot can reused branch multiple counterfactual futures identical history.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_snapshot_create.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create A Simulation Snapshot At A Given Time — chlaa_snapshot_create","text":"","code":"chlaa_snapshot_create(   pars,   snapshot_time,   n_particles = 1,   dt = 0.25,   seed = 1,   which = c(\"simulate\", \"fit\"),   n_threads = 1,   deterministic = FALSE )"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_snapshot_create.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create A Simulation Snapshot At A Given Time — chlaa_snapshot_create","text":"pars Parameter list. snapshot_time Time snapshot. n_particles Number particles. dt Model time step. seed RNG seed. Generator choice: `\"simulate\"` `\"fit\"`. n_threads Threads dust2. deterministic Deterministic mode (supported).","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_snapshot_create.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create A Simulation Snapshot At A Given Time — chlaa_snapshot_create","text":"list class `chlaa_snapshot`.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_standard_scenarios.html","id":null,"dir":"Reference","previous_headings":"","what":"Build standard operational scenario templates — chlaa_standard_scenarios","title":"Build standard operational scenario templates — chlaa_standard_scenarios","text":"Build standard operational scenario templates","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_standard_scenarios.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build standard operational scenario templates — chlaa_standard_scenarios","text":"","code":"chlaa_standard_scenarios(   pars,   trigger_time,   horizon,   vax_total_doses = 280000,   early_offset = -14,   late_offset = 14,   campaign_days = 6,   wash_duration = 120,   care_duration = 120 )"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_standard_scenarios.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build standard operational scenario templates — chlaa_standard_scenarios","text":"pars Baseline parameters. trigger_time Trigger time anticipatory interventions. horizon End horizon (used cap intervention windows). vax_total_doses Total vaccine doses vaccination scenarios. early_offset Days relative trigger early vaccination start. late_offset Days relative trigger late vaccination start. campaign_days Vaccination campaign duration. wash_duration WASH intervention duration. care_duration Care intervention duration.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_standard_scenarios.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build standard operational scenario templates — chlaa_standard_scenarios","text":"list `chlaa_scenario` objects.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_trigger_time_from_sim.html","id":null,"dir":"Reference","previous_headings":"","what":"Derive an anticipatory action trigger time from a simulation — chlaa_trigger_time_from_sim","title":"Derive an anticipatory action trigger time from a simulation — chlaa_trigger_time_from_sim","text":"Finds first time aggregated incidence stream reaches exceeds threshold.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_trigger_time_from_sim.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Derive an anticipatory action trigger time from a simulation — chlaa_trigger_time_from_sim","text":"","code":"chlaa_trigger_time_from_sim(sim, threshold, var = \"inc_symptoms\", fun = mean)"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_trigger_time_from_sim.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Derive an anticipatory action trigger time from a simulation — chlaa_trigger_time_from_sim","text":"sim Output `chlaa_simulate()` (single-scenario subset `chlaa_run_scenarios()`). threshold Numeric threshold. var Variable name `sim` threshold . Defaults `inc_symptoms`. fun Aggregation function across particles time (defaults `mean`).","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_trigger_time_from_sim.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Derive an anticipatory action trigger time from a simulation — chlaa_trigger_time_from_sim","text":"single numeric trigger time (units `sim$time`), `NA_real_` never reached.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_update_from_fit.html","id":null,"dir":"Reference","previous_headings":"","what":"Update a parameter list using posterior information from a fit — chlaa_update_from_fit","title":"Update a parameter list using posterior information from a fit — chlaa_update_from_fit","text":"Update parameter list using posterior information fit","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_update_from_fit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Update a parameter list using posterior information from a fit — chlaa_update_from_fit","text":"","code":"chlaa_update_from_fit(   fit,   pars,   draw = c(\"median\", \"mean\", \"sample\", \"index\"),   burnin = 0.5,   thin = 1,   index = NULL,   seed = 1,   validate = TRUE )"},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_update_from_fit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Update a parameter list using posterior information from a fit — chlaa_update_from_fit","text":"fit Fit object returned `chlaa_fit_pmcmc()`. pars Baseline parameter list. draw posterior summary use: \"mean\", \"median\", \"sample\", \"index\". burnin Burn-, proportion integer count. thin Thinning interval. index `draw = \"index\"`, 1-based index retained iterations. seed Seed used `draw = \"sample\"`. validate Validate resulting parameter list.","code":""},{"path":"https://ojwatson.github.io/chlaa/reference/chlaa_update_from_fit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Update a parameter list using posterior information from a fit — chlaa_update_from_fit","text":"named list parameters.","code":""}]
