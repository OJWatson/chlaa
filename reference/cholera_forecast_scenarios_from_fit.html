<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Forecast multiple scenarios from a fitted posterior — cholera_forecast_scenarios_from_fit • chlaa</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Forecast multiple scenarios from a fitted posterior — cholera_forecast_scenarios_from_fit"><meta name="description" content="Selects posterior iterations once (shared across scenarios), simulates baseline and each scenario
using the same draw indices and RNG seed streams, and returns both absolute forecasts and paired
differences vs baseline."><meta property="og:description" content="Selects posterior iterations once (shared across scenarios), simulates baseline and each scenario
using the same draw indices and RNG seed streams, and returns both absolute forecasts and paired
differences vs baseline."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">chlaa</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/fitting_workflow.html">Fitting Workflow</a></li>
    <li><a class="dropdown-item" href="../articles/health_econ_and_optimisation.html">Health Economics and Optimisation</a></li>
    <li><a class="dropdown-item" href="../articles/scenario_workflow.html">Scenario Workflow</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/OJWatson/chlaa" aria-label="GitHub repository"><span class="fa fa-github"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Forecast multiple scenarios from a fitted posterior</h1>
      <small class="dont-index">Source: <a href="https://github.com/OJWatson/chlaa/blob/main/R/forecast_scenarios.R" class="external-link"><code>R/forecast_scenarios.R</code></a></small>
      <div class="d-none name"><code>cholera_forecast_scenarios_from_fit.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Selects posterior iterations once (shared across scenarios), simulates baseline and each scenario
using the same draw indices and RNG seed streams, and returns both absolute forecasts and paired
differences vs baseline.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">cholera_forecast_scenarios_from_fit</span><span class="op">(</span></span>
<span>  <span class="va">fit</span>,</span>
<span>  pars <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  scenarios <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  baseline_name <span class="op">=</span> <span class="st">"baseline"</span>,</span>
<span>  time <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  vars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"inc_symptoms"</span>, <span class="st">"cum_symptoms"</span>, <span class="st">"cum_deaths"</span><span class="op">)</span>,</span>
<span>  include_cases <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  obs_model <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"nbinom"</span>, <span class="st">"mean"</span><span class="op">)</span>,</span>
<span>  quantiles <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.025</span>, <span class="fl">0.25</span>, <span class="fl">0.5</span>, <span class="fl">0.75</span>, <span class="fl">0.975</span><span class="op">)</span>,</span>
<span>  n_draws <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  burnin <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  thin <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  dt <span class="op">=</span> <span class="fl">0.25</span>,</span>
<span>  n_particles <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  n_threads <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  deterministic <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  include_baseline_in_scenarios <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-fit">fit<a class="anchor" aria-label="anchor" href="#arg-fit"></a></dt>
<dd><p>A `cholera_fit` object.</p></dd>


<dt id="arg-pars">pars<a class="anchor" aria-label="anchor" href="#arg-pars"></a></dt>
<dd><p>Baseline parameter list. If NULL uses `attr(fit, "start_pars")` else `cholera_parameters()`.</p></dd>


<dt id="arg-scenarios">scenarios<a class="anchor" aria-label="anchor" href="#arg-scenarios"></a></dt>
<dd><p>Scenarios to run (list of `cholera_scenario`, named list of modify lists, or a grid data.frame).</p></dd>


<dt id="arg-baseline-name">baseline_name<a class="anchor" aria-label="anchor" href="#arg-baseline-name"></a></dt>
<dd><p>Baseline scenario name (modify list may be empty).</p></dd>


<dt id="arg-time">time<a class="anchor" aria-label="anchor" href="#arg-time"></a></dt>
<dd><p>Simulation times. If NULL uses `fit` data times.</p></dd>


<dt id="arg-vars">vars<a class="anchor" aria-label="anchor" href="#arg-vars"></a></dt>
<dd><p>Model variables to summarise.</p></dd>


<dt id="arg-include-cases">include_cases<a class="anchor" aria-label="anchor" href="#arg-include-cases"></a></dt>
<dd><p>Include predicted observed cases variable "cases".</p></dd>


<dt id="arg-obs-model">obs_model<a class="anchor" aria-label="anchor" href="#arg-obs-model"></a></dt>
<dd><p>One of "nbinom" or "mean".</p></dd>


<dt id="arg-quantiles">quantiles<a class="anchor" aria-label="anchor" href="#arg-quantiles"></a></dt>
<dd><p>Quantiles to compute.</p></dd>


<dt id="arg-n-draws">n_draws<a class="anchor" aria-label="anchor" href="#arg-n-draws"></a></dt>
<dd><p>Number of posterior draws to use.</p></dd>


<dt id="arg-burnin">burnin<a class="anchor" aria-label="anchor" href="#arg-burnin"></a></dt>
<dd><p>Burn-in proportion or integer.</p></dd>


<dt id="arg-thin">thin<a class="anchor" aria-label="anchor" href="#arg-thin"></a></dt>
<dd><p>Thinning interval.</p></dd>


<dt id="arg-seed">seed<a class="anchor" aria-label="anchor" href="#arg-seed"></a></dt>
<dd><p>Seed.</p></dd>


<dt id="arg-dt">dt<a class="anchor" aria-label="anchor" href="#arg-dt"></a></dt>
<dd><p>Model time step.</p></dd>


<dt id="arg-n-particles">n_particles<a class="anchor" aria-label="anchor" href="#arg-n-particles"></a></dt>
<dd><p>Particles per draw.</p></dd>


<dt id="arg-n-threads">n_threads<a class="anchor" aria-label="anchor" href="#arg-n-threads"></a></dt>
<dd><p>Threads for dust2.</p></dd>


<dt id="arg-deterministic">deterministic<a class="anchor" aria-label="anchor" href="#arg-deterministic"></a></dt>
<dd><p>Deterministic process model toggle (if supported).</p></dd>


<dt id="arg-include-baseline-in-scenarios">include_baseline_in_scenarios<a class="anchor" aria-label="anchor" href="#arg-include-baseline-in-scenarios"></a></dt>
<dd><p>If TRUE, ensures baseline is included even if not passed.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A tidy data.frame with columns: scenario, type, time, variable, mean, quantiles, n_samples.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by OJ Watson.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

